{% extends "base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/messages.css') }}">
<script src="{{ url_for('static', filename='messages-page.js') }}"></script>
<script src="{{ url_for('static', filename='message-utils.js') }}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
{% endblock %}

{% block title %}
Messages
{% endblock %}

{% block content %}
<div class="sidebar">
    {% include 'components/messages-sidebar.html' %}
</div>
<div class="messages-wrapper">
    {% if messages is none %}
        <p class="empty-notifier">No conversation selected.</p>
    {% else %}
        <div class="messages">
            {% for message in messages %}
            <p {% if message['incoming'] %} data-incoming {% else %} data-outgoing {% endif %}>
                <span class="msg-contents">{{ message['contents'] }}</span>
                <span class="msg-time">{{ message['timestamp'] }}</span>
            </p>
                
            {% endfor %}
        </div>
        <div class="message-controls">
            <input type="text" id="message-input" placeholder="Message...">
            <input type="button" id="attach-btn" value="Attach">
            <input type="button" id="send-btn" value="Send">
        </div>
    {% endif %}
</div>
{% endblock %}
